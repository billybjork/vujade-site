(this["webpackJsonpvujade-site"]=this["webpackJsonpvujade-site"]||[]).push([[0],{15:function(e,t,o){e.exports=o(30)},23:function(e,t,o){},24:function(e,t,o){},30:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n),a=o(13),s=o.n(a),c=(o(23),o(31)),r=(o(24),o(3)),h=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new r.t,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.f.ROTATE,MIDDLE:r.f.DOLLY,RIGHT:r.f.PAN},this.touches={ONE:r.r.ROTATE,TWO:r.r.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(n),o.update(),c=s.NONE},this.update=function(){var t=new r.t,i=(new r.k).setFromUnitVectors(e.up,new r.t(0,1,0)),a=i.clone().invert(),f=new r.t,E=new r.k,v=2*Math.PI;return function(){var e=o.object.position;t.copy(e).sub(o.target),t.applyQuaternion(i),u.setFromVector3(t),o.autoRotate&&c===s.NONE&&V(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(u.theta+=l.theta*o.dampingFactor,u.phi+=l.phi*o.dampingFactor):(u.theta+=l.theta,u.phi+=l.phi);var r=o.minAzimuthAngle,b=o.maxAzimuthAngle;return isFinite(r)&&isFinite(b)&&(r<-Math.PI?r+=v:r>Math.PI&&(r-=v),b<-Math.PI?b+=v:b>Math.PI&&(b-=v),u.theta=r<=b?Math.max(r,Math.min(b,u.theta)):u.theta>(r+b)/2?Math.max(r,u.theta):Math.min(b,u.theta)),u.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=d,u.radius=Math.max(o.minDistance,Math.min(o.maxDistance,u.radius)),!0===o.enableDamping?o.target.addScaledVector(m,o.dampingFactor):o.target.add(m),t.setFromSpherical(u),t.applyQuaternion(a),e.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(l.theta*=1-o.dampingFactor,l.phi*=1-o.dampingFactor,m.multiplyScalar(1-o.dampingFactor)):(l.set(0,0,0),m.set(0,0,0)),d=1,!!(p||f.distanceToSquared(o.object.position)>h||8*(1-E.dot(o.object.quaternion))>h)&&(o.dispatchEvent(n),f.copy(o.object.position),E.copy(o.object.quaternion),p=!1,!0)}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",q,!1),o.domElement.removeEventListener("pointerdown",X,!1),o.domElement.removeEventListener("wheel",Z,!1),o.domElement.removeEventListener("touchstart",_,!1),o.domElement.removeEventListener("touchend",W,!1),o.domElement.removeEventListener("touchmove",H,!1),o.domElement.ownerDocument.removeEventListener("pointermove",C,!1),o.domElement.ownerDocument.removeEventListener("pointerup",F,!1),o.domElement.removeEventListener("keydown",U,!1)};var o=this,n={type:"change"},i={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},c=s.NONE,h=1e-6,u=new r.q,l=new r.q,d=1,m=new r.t,p=!1,f=new r.s,E=new r.s,v=new r.s,b=new r.s,I=new r.s,O=new r.s,P=new r.s,y=new r.s,g=new r.s;function T(){return Math.pow(.95,o.zoomSpeed)}function V(e){l.theta-=e}function w(e){l.phi-=e}var L=function(){var e=new r.t;return function(t,o){e.setFromMatrixColumn(o,0),e.multiplyScalar(-t),m.add(e)}}(),S=function(){var e=new r.t;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),m.add(e)}}(),x=function(){var e=new r.t;return function(t,n){var i=o.domElement;if(o.object.isPerspectiveCamera){var a=o.object.position;e.copy(a).sub(o.target);var s=e.length();s*=Math.tan(o.object.fov/2*Math.PI/180),L(2*t*s/i.clientHeight,o.object.matrix),S(2*n*s/i.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(L(t*(o.object.right-o.object.left)/o.object.zoom/i.clientWidth,o.object.matrix),S(n*(o.object.top-o.object.bottom)/o.object.zoom/i.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function M(e){o.object.isPerspectiveCamera?d/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function k(e){o.object.isPerspectiveCamera?d*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function j(e){f.set(e.clientX,e.clientY)}function N(e){b.set(e.clientX,e.clientY)}function B(e){if(1===e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,o)}}function Y(e){if(1===e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,o)}}function A(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+o*o);P.set(0,n)}function z(e){if(1===e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,n)}v.subVectors(E,f).multiplyScalar(o.rotateSpeed);var i=o.domElement;V(2*Math.PI*v.x/i.clientHeight),w(2*Math.PI*v.y/i.clientHeight),f.copy(E)}function R(e){if(1===e.touches.length)I.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);I.set(t,n)}O.subVectors(I,b).multiplyScalar(o.panSpeed),x(O.x,O.y),b.copy(I)}function D(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);y.set(0,i),g.set(0,Math.pow(y.y/P.y,o.zoomSpeed)),M(g.y),P.copy(y)}function X(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),o.domElement.focus?o.domElement.focus():window.focus(),e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case r.f.DOLLY:if(!1===o.enableZoom)return;!function(e){P.set(e.clientX,e.clientY)}(e),c=s.DOLLY;break;case r.f.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;N(e),c=s.PAN}else{if(!1===o.enableRotate)return;j(e),c=s.ROTATE}break;case r.f.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;j(e),c=s.ROTATE}else{if(!1===o.enablePan)return;N(e),c=s.PAN}break;default:c=s.NONE}c!==s.NONE&&(o.domElement.ownerDocument.addEventListener("pointermove",C,!1),o.domElement.ownerDocument.addEventListener("pointerup",F,!1),o.dispatchEvent(i))}(e);break;default:console.log("Unhandled key: ".concat(e))}}function C(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===o.enabled)return;switch(e.preventDefault(),c){case s.ROTATE:if(!1===o.enableRotate)return;!function(e){E.set(e.clientX,e.clientY),v.subVectors(E,f).multiplyScalar(o.rotateSpeed);var t=o.domElement;V(2*Math.PI*v.x/t.clientHeight),w(2*Math.PI*v.y/t.clientHeight),f.copy(E),o.update()}(e);break;case s.DOLLY:if(!1===o.enableZoom)return;!function(e){y.set(e.clientX,e.clientY),g.subVectors(y,P),g.y>0?M(T()):g.y<0&&k(T()),P.copy(y),o.update()}(e);break;case s.PAN:if(!1===o.enablePan)return;!function(e){I.set(e.clientX,e.clientY),O.subVectors(I,b).multiplyScalar(o.panSpeed),x(O.x,O.y),b.copy(I),o.update()}(e);break;default:console.log("Unhandled key: ".concat(e.keyCode))}}(e);break;default:console.log("Unhandled key: ".concat(e))}}function F(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(o.domElement.ownerDocument.removeEventListener("pointermove",C,!1),o.domElement.ownerDocument.removeEventListener("pointerup",F,!1),!1===o.enabled)return;o.dispatchEvent(a),c=s.NONE}();break;default:console.log("Unhandled key: ".concat(e))}}function Z(e){!1===o.enabled||!1===o.enableZoom||c!==s.NONE&&c!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),o.dispatchEvent(i),function(e){e.deltaY<0?k(T()):e.deltaY>0&&M(T()),o.update()}(e),o.dispatchEvent(a))}function U(e){!1!==o.enabled&&!1!==o.enableKeys&&!1!==o.enablePan&&function(e){var t=!1;switch(e.keyCode){case o.keys.UP:x(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:x(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:x(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:x(-o.keyPanSpeed,0),t=!0;break;default:console.log("Unhandled key: ".concat(e.keyCode))}t&&(e.preventDefault(),o.update())}(e)}function _(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(o.touches.ONE){case r.r.ROTATE:if(!1===o.enableRotate)return;B(e),c=s.TOUCH_ROTATE;break;case r.r.PAN:if(!1===o.enablePan)return;Y(e),c=s.TOUCH_PAN;break;default:c=s.NONE}break;case 2:switch(o.touches.TWO){case r.r.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&A(e),o.enablePan&&Y(e)}(e),c=s.TOUCH_DOLLY_PAN;break;case r.r.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&A(e),o.enableRotate&&B(e)}(e),c=s.TOUCH_DOLLY_ROTATE;break;default:c=s.NONE}break;default:c=s.NONE}c!==s.NONE&&o.dispatchEvent(i)}}function H(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),c){case s.TOUCH_ROTATE:if(!1===o.enableRotate)return;z(e),o.update();break;case s.TOUCH_PAN:if(!1===o.enablePan)return;R(e),o.update();break;case s.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&D(e),o.enablePan&&R(e)}(e),o.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&D(e),o.enableRotate&&z(e)}(e),o.update();break;default:c=s.NONE}}function W(e){!1!==o.enabled&&(o.dispatchEvent(a),c=s.NONE)}function q(e){!1!==o.enabled&&e.preventDefault()}o.domElement.addEventListener("contextmenu",q,!1),o.domElement.addEventListener("pointerdown",X,!1),o.domElement.addEventListener("wheel",Z,!1),o.domElement.addEventListener("touchstart",_,!1),o.domElement.addEventListener("touchend",W,!1),o.domElement.addEventListener("touchmove",H,!1),o.domElement.addEventListener("keydown",U,!1),this.update()};(h.prototype=Object.create(r.c.prototype)).constructor=h;var u=function(e,t){h.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=r.f.PAN,this.mouseButtons.RIGHT=r.f.ROTATE,this.touches.ONE=r.r.PAN,this.touches.TWO=r.r.DOLLY_ROTATE};(u.prototype=Object.create(r.c.prototype)).constructor=u;const l=Object.freeze({POSITIVE:{X:"x",Y:"y",Z:"z"},NEGATIVE:{X:"-x",Y:"-y",Z:"-z"}}),d=Object.freeze({[l.POSITIVE.X]:new r.t(1,0,0),[l.POSITIVE.Y]:new r.t(0,1,0),[l.POSITIVE.Z]:new r.t(0,0,1),[l.NEGATIVE.X]:new r.t(-1,0,0),[l.NEGATIVE.Y]:new r.t(0,-1,0),[l.NEGATIVE.Z]:new r.t(0,0,-1)}),m=Object.freeze({SOLUTION_START:"start",SOLUTION_END:"end"}),p=Object.freeze({NONE:"none",ROTATION:"rotation",CUBIE:"cubie"}),f=Object.freeze({u:"U",d:"D",f:"F",b:"B",r:"R",l:"L",m:"M",e:"E",s:"S",x:"X",y:"Y",z:"Z",U:"U'",D:"D'",F:"F'",B:"B'",R:"R'",L:"L'",M:"M'",E:"E'",S:"S'",X:"X'",Y:"Y'",Z:"Z'",wu:"u",wd:"d",wf:"f",wb:"b",wr:"r",wl:"l",wU:"u'",wD:"d'",wF:"f'",wB:"b'",wR:"r'",wL:"l'"});const E=[function(e){const t=new r.g;return t.set(1,0,0,0,Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e)),t},function(e){const t=new r.g;return t.set(Math.cos(e),0,Math.sin(e),0,1,0,-Math.sin(e),0,Math.cos(e)),t},function(e){const t=new r.g;return t.set(Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1),t}],v=Object.freeze({[l.POSITIVE.X]:0,[l.POSITIVE.Y]:1,[l.POSITIVE.Z]:2});function b(e,t){return E[v[e]](t)}const I=new r.o,O=.925;I.moveTo(0,.1),I.lineTo(0,0+O-.1),I.quadraticCurveTo(0,0+O,.1,0+O),I.lineTo(0+O-.1,0+O),I.quadraticCurveTo(0+O,0+O,0+O,0+O-.1),I.lineTo(0+O,.1),I.quadraticCurveTo(0+O,0,0+O-.1,0),I.lineTo(.1,0),I.quadraticCurveTo(0,0,0,.1);const P=new r.p(I);P.center();var y=class{constructor(e,t,o,n,i){this.positionVector=new r.t(e,t,o),this.fixedPositionVector=new r.t(e,t,o),this.facingVector=n,this.fixedFacingVector=new r.t(n.x,n.y,n.z);const a=document.createElement("video");a.crossOrigin="anonymous",a.src=i,a.load(),a.muted=!0,a.loop=!0,a.play().catch(e=>console.error("Autoplay was prevented:",e));const s=new r.u(a);s.minFilter=r.e,s.magFilter=r.e,s.format=r.l,this.material=new r.i({map:s,side:r.b}),this.mesh=new r.h(P,this.material),this.updatePosition(this.fixedPositionVector,this.fixedFacingVector),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y)}updatePosition(e,t){this.mesh.position.x=e.x+.5*t.x,this.mesh.position.y=e.y+.5*t.y,this.mesh.position.z=e.z+.5*t.z,this.mesh.position.x+=this.mesh.position.x>0?.001:-.001,this.mesh.position.y+=this.mesh.position.y>0?.001:-.001,this.mesh.position.z+=this.mesh.position.z>0?.001:-.001;const o=Object.values(l.POSITIVE);o.forEach(n=>{if(e[n]===t[n]&&1===Math.abs(e[n]))for(const t of o.filter(e=>e!==n))1===e[t]?this.mesh.position[t]-=.025:-1===e[t]&&(this.mesh.position[t]+=.025)})}lockPosition(){const e=Math.round(this.fixedPositionVector.x),t=Math.round(this.fixedPositionVector.y),o=Math.round(this.fixedPositionVector.z);this.positionVector=new r.t(e,t,o),this.fixedPositionVector=new r.t(e,t,o),this.facingVector=new r.t(Math.round(this.fixedFacingVector.x),Math.round(this.fixedFacingVector.y),Math.round(this.fixedFacingVector.z)),this.fixedFacingVector=new r.t(this.facingVector.x,this.facingVector.y,this.facingVector.z),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y),this.mesh.rotation.z=0}turn(e,t){var o=b(e,t*Math.PI*.5);this.fixedFacingVector.applyMatrix3(o),this.fixedPositionVector.applyMatrix3(o),this.lockPosition(),this.updatePosition(this.fixedPositionVector,this.fixedFacingVector),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y)}rotate(e,t){var o=b(e,t);this.facingVector.applyMatrix3(o),this.positionVector.applyMatrix3(o),this.updatePosition(this.positionVector,this.facingVector),this.mesh.rotateOnWorldAxis(d[e],t)}};const g=new r.o,T=1e-5;g.absarc(T,T,T,-Math.PI/2,-Math.PI,!0),g.absarc(T,.90002,T,Math.PI,Math.PI/2,!0),g.absarc(.90002,.90002,T,Math.PI/2,0,!0),g.absarc(.90002,T,T,0,-Math.PI/2,!0);const V=new r.d(g,{depth:.9,bevelEnabled:!0,bevelSegments:32,steps:1,bevelSize:.04999,bevelThickness:.05,curveSegments:16});V.center();const w=new r.i({color:0});var L=class{constructor(e,t,o,n){this.angle=0,this.animating=!1,this.animateAxis=null,this.animateDir=0,this.positionVector=new r.t(e,t,o),this.fixedPositionVector=new r.t(e,t,o),this.mesh=new r.h(V,w),this.stickers=[];let i=0;-1===e?this.stickers.push(new y(e,t,o,new r.t(-1,0,0),n[i++])):1===e&&this.stickers.push(new y(e,t,o,new r.t(1,0,0),n[i++])),-1===t?this.stickers.push(new y(e,t,o,new r.t(0,-1,0),n[i++])):1===t&&this.stickers.push(new y(e,t,o,new r.t(0,1,0),n[i++])),-1===o?this.stickers.push(new y(e,t,o,new r.t(0,0,-1),n[i++])):1===o&&this.stickers.push(new y(e,t,o,new r.t(0,0,1),n[i++])),this.updatePosition(this.fixedPositionVector)}updatePosition(e){this.mesh.position.x=e.x,this.mesh.position.y=e.y,this.mesh.position.z=e.z}lockPosition(){const e=Math.round(this.fixedPositionVector.x),t=Math.round(this.fixedPositionVector.y),o=Math.round(this.fixedPositionVector.z);this.positionVector=new r.t(e,t,o),this.fixedPositionVector=new r.t(e,t,o),this.mesh.position.x=e,this.mesh.position.y=t,this.mesh.position.z=o,this.stickers.forEach(e=>{e.lockPosition()})}turn(e,t){var o=b(e,t*Math.PI*.5);this.fixedPositionVector.applyMatrix3(o),this.lockPosition(),this.updatePosition(this.fixedPositionVector),this.mesh.rotation.x=0,this.mesh.rotation.y=0,this.mesh.rotation.z=0,this.stickers.forEach(o=>{o.turn(e,t)})}rotate(e,t){const o=b(e,t);this.positionVector.applyMatrix3(o),this.updatePosition(this.positionVector),this.mesh.rotation[e]+=t,this.stickers.forEach(o=>{o.rotate(e,t)})}};var S=class{constructor(e,t){this.cubies=[],this.meshes=[],this.stickersMap=new Map,this.videoURLs=t;let o=0;for(let n=-1;n<=1;n++)for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)if(0!==n||0!==e||0!==t){const i=this.videoURLs.slice(o,o+3);this.cubies.push(new L(n,e,t,i)),o+=3}this.cubies.forEach(t=>{e.add(t.mesh),this.meshes.push(t.mesh),t.stickers.forEach(t=>{e.add(t.mesh),this.meshes.push(t.mesh),this.stickersMap.set(t.mesh.uuid,t)})})}forEach(e){this.cubies.forEach(t=>{e(t)})}repr(){const e=[[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]]];this.cubies.forEach(t=>{1===t.positionVector.y&&t.stickers.forEach(t=>{1===t.facingVector.y&&(e[0][t.fixedPositionVector.z+1][t.fixedPositionVector.x+1]=t.getColor())}),-1===t.positionVector.y&&t.stickers.forEach(t=>{-1===t.facingVector.y&&(e[1][-1*t.fixedPositionVector.z+1][t.fixedPositionVector.x+1]=t.getColor())}),1===t.positionVector.z&&t.stickers.forEach(t=>{1===t.facingVector.z&&(e[2][-1*t.fixedPositionVector.y+1][t.fixedPositionVector.x+1]=t.getColor())}),-1===t.positionVector.z&&t.stickers.forEach(t=>{-1===t.facingVector.z&&(e[3][-1*t.fixedPositionVector.y+1][-1*t.fixedPositionVector.x+1]=t.getColor())}),1===t.positionVector.x&&t.stickers.forEach(t=>{1===t.facingVector.x&&(e[4][-1*t.fixedPositionVector.y+1][-1*t.fixedPositionVector.z+1]=t.getColor())}),-1===t.positionVector.x&&t.stickers.forEach(t=>{-1===t.facingVector.x&&(e[5][-1*t.fixedPositionVector.y+1][t.fixedPositionVector.z+1]=t.getColor())})});let t="";return e.forEach(e=>{e.forEach(e=>{t+=e.join("")})}),t}move(e){switch(e){case"U":return void this.moveLayer(l.POSITIVE.Y,1,1);case"U'":return void this.moveLayer(l.POSITIVE.Y,1,-1);case"u":return this.moveLayer(l.POSITIVE.Y,1,1),void this.moveLayer(l.POSITIVE.Y,0,-1);case"u'":return this.moveLayer(l.POSITIVE.Y,1,-1),void this.moveLayer(l.POSITIVE.Y,0,1);case"D":return void this.moveLayer(l.POSITIVE.Y,-1,1);case"D'":return void this.moveLayer(l.POSITIVE.Y,-1,-1);case"d":return this.moveLayer(l.POSITIVE.Y,-1,1),void this.moveLayer(l.POSITIVE.Y,0,1);case"d'":return this.moveLayer(l.POSITIVE.Y,-1,-1),void this.moveLayer(l.POSITIVE.Y,0,-1);case"F":return void this.moveLayer(l.POSITIVE.Z,1,1);case"F'":return void this.moveLayer(l.POSITIVE.Z,1,-1);case"f":return this.moveLayer(l.POSITIVE.Z,1,1),void this.moveLayer(l.POSITIVE.Z,0,1);case"f'":return this.moveLayer(l.POSITIVE.Z,1,-1),void this.moveLayer(l.POSITIVE.Z,0,-1);case"B":return void this.moveLayer(l.POSITIVE.Z,-1,1);case"B'":return void this.moveLayer(l.POSITIVE.Z,-1,-1);case"b":return this.moveLayer(l.POSITIVE.Z,-1,1),void this.moveLayer(l.POSITIVE.Z,0,-1);case"b'":return this.moveLayer(l.POSITIVE.Z,-1,-1),void this.moveLayer(l.POSITIVE.Z,0,1);case"R":return void this.moveLayer(l.POSITIVE.X,1,1);case"R'":return void this.moveLayer(l.POSITIVE.X,1,-1);case"r":return this.moveLayer(l.POSITIVE.X,1,1),void this.moveLayer(l.POSITIVE.X,0,-1);case"r'":return this.moveLayer(l.POSITIVE.X,1,-1),void this.moveLayer(l.POSITIVE.X,0,1);case"L":return void this.moveLayer(l.POSITIVE.X,-1,1);case"L'":return void this.moveLayer(l.POSITIVE.X,-1,-1);case"l":return this.moveLayer(l.POSITIVE.X,-1,1),void this.moveLayer(l.POSITIVE.X,0,1);case"l'":return this.moveLayer(l.POSITIVE.X,-1,-1),void this.moveLayer(l.POSITIVE.X,0,-1);case"M":return void this.moveLayer(l.POSITIVE.X,0,1);case"M'":return void this.moveLayer(l.POSITIVE.X,0,-1);case"E":return void this.moveLayer(l.POSITIVE.Y,0,1);case"E'":return void this.moveLayer(l.POSITIVE.Y,0,-1);case"S":return void this.moveLayer(l.POSITIVE.Z,0,1);case"S'":return void this.moveLayer(l.POSITIVE.Z,0,-1);case"x":case"X":return this.moveLayer(l.POSITIVE.X,-1,-1),this.moveLayer(l.POSITIVE.X,0,-1),void this.moveLayer(l.POSITIVE.X,1,1);case"x'":case"X'":return this.moveLayer(l.POSITIVE.X,-1,1),this.moveLayer(l.POSITIVE.X,0,1),void this.moveLayer(l.POSITIVE.X,1,-1);case"y":case"Y":return this.moveLayer(l.POSITIVE.Y,-1,-1),this.moveLayer(l.POSITIVE.Y,0,-1),void this.moveLayer(l.POSITIVE.Y,1,1);case"y'":case"Y'":return this.moveLayer(l.POSITIVE.Y,-1,1),this.moveLayer(l.POSITIVE.Y,0,1),void this.moveLayer(l.POSITIVE.Y,1,-1);case"z":case"Z":return this.moveLayer(l.POSITIVE.Z,-1,-1),this.moveLayer(l.POSITIVE.Z,0,1),void this.moveLayer(l.POSITIVE.Z,1,1);case"z'":case"Z'":return this.moveLayer(l.POSITIVE.Z,-1,1),this.moveLayer(l.POSITIVE.Z,0,-1),void this.moveLayer(l.POSITIVE.Z,1,-1);default:console.warn("Unhandled move: ".concat(e))}}moveLayer(e,t,o){let n=o;0!==t?n*=-1*t:e===l.POSITIVE.Z&&(n*=-1),this.cubies.forEach(o=>{o.positionVector[e]===t&&(o.animating=!0,o.angle=0,o.animateAxis=e,o.animateDir=n)})}};function x(e){let t=!1;const o=new r.s,n=new r.s,i=new r.m,a=()=>1*window.innerHeight;let s=[],c=!1,u=!1;const d=document.getElementById("three"),E=new r.n;E.background=null;const v=new r.j(50,window.innerWidth/a(),.1,1e3);v.position.set(5,4,8);const b=new r.v({antialias:!0});b.setPixelRatio(window.devicePixelRatio),b.setSize(window.innerWidth,a()),d.appendChild(b.domElement);const I=new h(v,b.domElement);I.enablePan=!1,I.enableRotate=!1,I.enableZoom=!1,I.update();const O=new S(E,e);let P;const y=()=>{const e=window.innerWidth/2;O.cubies.forEach(t=>{if(1===t.fixedPositionVector.x&&-1===t.fixedPositionVector.y&&1===t.fixedPositionVector.z){const o=t.fixedPositionVector.clone();o.project(v),P=o.x*e+e}})};y(),I.addEventListener("change",y);const g=new r.a,T=()=>{const e=g.getDelta();if(!c&&s.length>0){const e=s.shift();e===m.SOLUTION_END?(u=!1,c=!1):e===m.SOLUTION_START?(console.log("Cube solving functionality has been disabled."),u=!1):(O.move(e),c=!0)}O.forEach(t=>{t.animating&&(t.angle>=.5*Math.PI?(t.angle=0,t.animating=!1,t.turn(t.animateAxis,t.animateDir),t.lockPosition(),c=!1):(t.rotate(t.animateAxis,t.animateDir*e*12.5),t.angle+=12.5*e))})},V=()=>{requestAnimationFrame(V),T(),b.render(E,v)};V();document.addEventListener("keypress",e=>{if(u)return;const o=t?"w"+e.key:e.key;void 0!==f[o]?s.push(f[o]):"Enter"===e.key?(u=!0,s.push(m.SOLUTION_START)):"w"!==e.key&&"W"!==e.key||(t=!0)},!1);document.addEventListener("keyup",e=>{"w"!==e.key&&"W"!==e.key||(t=!1)},!1);window.addEventListener("resize",()=>{v.aspect=window.innerWidth/a(),v.updateProjectionMatrix(),b.setSize(window.innerWidth,a()),y()},!1);document.addEventListener("touchstart",e=>{e.offsetX=e.touches[0].clientX,e.offsetY=e.touches[0].clientY-0,k(e)},!1);document.addEventListener("touchend",e=>{j(e)},!1);document.addEventListener("touchmove",e=>{e.offsetX=e.touches[0].clientX,e.offsetY=e.touches[0].clientY-0,N(e)},!1);let w=null,L=0,x=p.NONE,M=!1;const k=e=>{if("canvas"!==e.target.tagName.toLowerCase())return;M=!0,o.x=e.offsetX/window.innerWidth*2-1,o.y=-e.offsetY/a()*2+1,i.setFromCamera(o.clone(),v);const t=i.intersectObjects(O.meshes,!0);x=0!==t.length?O.stickersMap.has(t[0].object.uuid)?t[0]:p.CUBIE:p.ROTATION};document.addEventListener("pointerdown",k,!1);const j=e=>{M=!1,x=p.NONE,w=null,L=0};document.addEventListener("pointerup",j,!1);const N=e=>{if(!M||null!==w||u)return;if(x===p.CUBIE)return;if(n.x=e.offsetX/window.innerWidth*2-1-o.x,n.y=-e.offsetY/a()*2+1-o.y,n.length()<=(window.innerWidth<=500?.1:.05))return;if(Math.abs(n.x)>Math.abs(n.y)?(w=l.POSITIVE.X,L=n.x>0?1:-1):(w=l.POSITIVE.Y,L=n.y>0?1:-1),x===p.ROTATION)return void(w===l.POSITIVE.X?-1===L?s.push("y"):1===L&&s.push("y'"):w===l.POSITIVE.Y&&(e.offsetX<P?-1===L?s.push("x'"):1===L&&s.push("x"):-1===L?s.push("z"):1===L&&s.push("z'")));const t=O.stickersMap.get(x.object.uuid);if(w===l.POSITIVE.X)if(1===t.fixedFacingVector.y)switch(t.fixedPositionVector.z){case-1:-1*L===-1?s.push("B'"):-1*L===1&&s.push("B");break;case 0:-1===L?s.push("S'"):1===L&&s.push("S");break;case 1:-1===L?s.push("F'"):1===L&&s.push("F")}else switch(t.fixedPositionVector.y){case-1:-1===L?s.push("D'"):1===L&&s.push("D");break;case 0:-1===L?s.push("E'"):1===L&&s.push("E");break;case 1:-1*L===-1?s.push("U'"):-1*L===1&&s.push("U")}else if(w===l.POSITIVE.Y)if(1===t.fixedFacingVector.x)switch(t.fixedPositionVector.z){case-1:-1===L?s.push("B'"):1===L&&s.push("B");break;case 0:-1*L===-1?s.push("S'"):-1*L===1&&s.push("S");break;case 1:-1*L===-1?s.push("F'"):-1*L===1&&s.push("F")}else switch(t.fixedPositionVector.x){case-1:-1*L===-1?s.push("L'"):-1*L===1&&s.push("L");break;case 0:-1*L===-1?s.push("M'"):-1*L===1&&s.push("M");break;case 1:-1===L?s.push("R'"):1===L&&s.push("R")}M=!1};document.addEventListener("pointermove",N,!1)}var M=o(8),k=o(4);const j=Object(n.createContext)(),N=()=>Object(n.useContext)(j),B=e=>{let{children:t}=e;const[o,a]=Object(n.useState)(!1),[s,c]=Object(n.useState)(null),r=Object(n.useCallback)(e=>{console.log("Opening modal for videoID: ".concat(e)),a(!0),c(e)},[]),h=Object(n.useCallback)(()=>{console.log("Closing modal"),a(!1),c(null)},[]),u=Object(n.useMemo)(()=>({isModalOpen:o,currentVideoID:s,openModal:r,closeModal:h}),[o,s,r,h]);return i.a.createElement(j.Provider,{value:u},t)};var Y=function(){const e=Object(k.o)(),t=Object(k.m)(),{isModalOpen:o,currentVideoID:a,closeModal:s}=N(),[r,h]=Object(n.useState)(null),[u,l]=Object(n.useState)(!1),d=Object(n.useRef)(null),m=Object(n.useCallback)(e=>{const t=e.split("vimeo.com/")[1].split("/")[0];return"https://player.vimeo.com/video/".concat(t)},[]);Object(n.useEffect)(()=>{const e=t.pathname.split("/")[1];!e||e===a&&r||(l(!0),c.a.get("".concat("https://vujade-site-bd6c94750c62.herokuapp.com","/api/video_info/").concat(e)).then(e=>{h(e.data),l(!1)}).catch(e=>{console.error("Error fetching video info: ",e),l(!1)}))},[t.pathname,a,r]);const p=Object(n.useCallback)(()=>{s(),e("/")},[s,e]);Object(n.useEffect)(()=>{const e=e=>{d.current&&!d.current.contains(e.target)&&p()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[p]);const f=Object(n.useMemo)(()=>r?m(r.URL):null,[r,m]);return u||!r?i.a.createElement("div",null,"Loading..."):i.a.createElement("div",{className:"modal-backdrop ".concat(o?"open":""),onClick:p,ref:d},i.a.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},i.a.createElement("div",{className:"modal-content"},i.a.createElement("span",{className:"close",onClick:p},"\xd7"),i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,r?r.videoName:"Loading..."),i.a.createElement("div",{className:"embed-container"},r&&i.a.createElement("iframe",{src:f,allow:"autoplay; fullscreen",allowFullScreen:!0,title:r?r.videoName:""})),r&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.Description}})))))},A=o(12),z=o.n(A);const R="https://vujade-site-bd6c94750c62.herokuapp.com";function D(){const[e,t]=Object(n.useState)([]),o=Object(n.useRef)(!1);return Object(n.useEffect)(()=>{(async()=>{try{const e=await c.a.get("".concat(R,"/api/scenes")),o=z.a.shuffle(e.data.map(e=>e.sceneURL));t(o)}catch(e){console.error("Error fetching cube videos:",e)}})()},[]),Object(n.useEffect)(()=>{e.length>0&&!o.current&&(console.log("Initializing CubeMaster with new video textures"),x(e),o.current=!0)},[e]),i.a.createElement("div",{id:"cube-container"})}function X(){const[e,t]=Object(n.useState)([]),{openModal:o}=N(),a=Object(k.o)();Object(n.useEffect)(()=>{(async()=>{try{const e=(await c.a.get("".concat(R,"/api/videos"))).data.map(e=>({id:e.videoID,name:e.videoName}));t([...e,...e])}catch(e){console.error("Error fetching video names:",e)}})()},[]);return i.a.createElement("div",{className:"video-menu-wrapper"},i.a.createElement("div",{className:"video-menu"},e.map((e,t)=>i.a.createElement("button",{key:"".concat(e.id,"-").concat(t),onClick:()=>{return t=e.id,o(t),void a("/".concat(t));var t}},e.name))))}function C(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(D,null))}var F=function(){const[e,t]=Object(n.useState)([]),[o,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{const e=await c.a.get("".concat(R,"/api/scenes"));t(e.data);const o=await c.a.get("".concat(R,"/api/videos"));a(z.a.uniqBy(o.data,"videoID"))})()},[]);const s=Object(n.useMemo)(()=>e,[e]),r=Object(n.useMemo)(()=>o,[o]);return i.a.createElement(M.a,null,i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(B,null,i.a.createElement(X,null),i.a.createElement(k.c,null,i.a.createElement(k.a,{path:"/",element:i.a.createElement(C,{scenes:s,uniqueVideoIDs:r})}),i.a.createElement(k.a,{path:"/:videoID",element:i.a.createElement(i.a.Fragment,null,i.a.createElement(C,{scenes:s,uniqueVideoIDs:r}),i.a.createElement(Y,null))})))))};var Z=e=>{e&&e instanceof Function&&o.e(3).then(o.bind(null,32)).then(t=>{let{getCLS:o,getFID:n,getFCP:i,getLCP:a,getTTFB:s}=t;o(e),n(e),i(e),a(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(B,null,i.a.createElement(F,null)))),Z()}},[[15,1,2]]]);
//# sourceMappingURL=main.afe35ba4.chunk.js.map