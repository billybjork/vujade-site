{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","Video","_ref","src","videoID","onVideoClick","videoRef","useRef","ref","inView","useInView","triggerOnce","rootMargin","React","createElement","style","width","height","loop","muted","playsInline","onClick","onMouseEnter","handleMouseEnter","current","playPromise","play","undefined","catch","error","console","onMouseLeave","handleMouseLeave","paused","pause","Modal","_ref2","videoInfo","onClose","useEffect","originalStyle","window","getComputedStyle","document","body","overflow","className","e","stopPropagation","videoName","url","vimeoId","split","concat","getEmbeddedVideoUrl","URL","frameBorder","allow","allowFullScreen","title","dangerouslySetInnerHTML","__html","Description","App","_ref3","scenes","uniqueVideoIDs","navigate","useNavigate","useParams","selectedVideoInfo","setSelectedVideoInfo","useState","axios","get","then","response","data","handleVideoNameClick","id","map","_ref4","key","scene","sceneURL","handleCloseModal","AppWrapper","setScenes","setUniqueVideoIDs","array","i","length","j","Math","floor","random","shuffleArray","Router","Routes","Route","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.31d2c7fe.chunk.js","sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { useInView } from 'react-intersection-observer';\nimport { BrowserRouter as Router, Routes, Route, useNavigate, useParams } from 'react-router-dom';\n\nconst BASE_URL = process.env.NODE_ENV === 'production'\n  ? 'https://vujade-site-bd6c94750c62.herokuapp.com'\n  : 'http://127.0.0.1:5000';\n\nfunction Video({ src, videoID, onVideoClick }) {\n  const videoRef = useRef(null);\n  const { ref, inView } = useInView({\n    triggerOnce: true,\n    rootMargin: '50px 0px',\n  });\n\n  const handleMouseEnter = () => {\n    if (videoRef.current) {\n      const playPromise = videoRef.current.play();\n      if (playPromise !== undefined) {\n        playPromise.catch(error => {\n          console.error(\"Play was interrupted.\", error);\n        });\n      }\n    }\n  };\n\n  const handleMouseLeave = () => {\n    if (videoRef.current && !videoRef.current.paused) {\n      videoRef.current.pause();\n    }\n  };\n\n  return (\n    <div ref={ref} style={{ width: '100%', height: 'auto' }}>\n      {inView && (\n        <video\n          ref={videoRef}\n          src={src}\n          loop\n          muted\n          playsInline\n          onClick={() => onVideoClick(videoID)}\n          onMouseEnter={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n          style={{ width: '100%', height: 'auto' }}\n        />\n      )}\n    </div>\n  );\n}\n\nfunction Modal({ videoInfo, onClose }) {\n  useEffect(() => {\n    const originalStyle = window.getComputedStyle(document.body).overflow;  \n    document.body.style.overflow = 'hidden'; // Disable background scrolling\n\n    return () => {\n      document.body.style.overflow = originalStyle; // Re-enable background scrolling\n    };\n  }, []);\n\n  const getEmbeddedVideoUrl = (url) => {\n    const vimeoId = url.split(\"vimeo.com/\")[1].split('/')[0];\n    return `https://player.vimeo.com/video/${vimeoId}`;\n  };\n\n  const handleModalContentClick = (e) => {\n    e.stopPropagation(); // Prevent clicks inside the modal from closing it\n  };\n\n  return (\n    <div className=\"modal\" onClick={onClose}>\n      <div className=\"modal-content\" onClick={handleModalContentClick}>\n        <span className=\"close\" onClick={onClose}>&times;</span>\n        <h2>{videoInfo.videoName}</h2>\n        <div className=\"embed-container\">\n          <iframe\n            src={getEmbeddedVideoUrl(videoInfo.URL)}\n            frameBorder=\"0\"\n            allow=\"autoplay; fullscreen\"\n            allowFullScreen\n            title={videoInfo.videoName}\n          ></iframe>\n        </div>\n        <div dangerouslySetInnerHTML={{ __html: videoInfo.Description || '' }}></div>\n      </div>\n    </div>\n  );\n}\n\nfunction App({ scenes, uniqueVideoIDs }) {\n  const navigate = useNavigate();\n  const { videoID } = useParams();\n  const [selectedVideoInfo, setSelectedVideoInfo] = useState(null);\n\n  useEffect(() => {\n    if (videoID) {\n      axios.get(`${BASE_URL}/video_info/${videoID}`)\n        .then(response => {\n          setSelectedVideoInfo(response.data);\n        })\n        .catch(error => {\n          console.error('Error fetching video info: ', error);\n          navigate('/');\n        });\n    }\n  }, [videoID, navigate]);\n\n  const handleVideoNameClick = (id) => {\n    navigate(`/videos/${id}`);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedVideoInfo(null); // Explicitly clear the selected video info\n    navigate('/'); // Navigate back to the homepage\n  };  \n\n  return (\n    <div className=\"App\">\n      <div className=\"video-menu\">\n        {uniqueVideoIDs.map(({ videoID, videoName }) => (\n          <div key={videoID} onClick={() => handleVideoNameClick(videoID)}>\n            {videoName}\n          </div>\n        ))}\n      </div>\n      <div className=\"video-grid\">\n        {scenes.map(scene => (\n          <Video\n            key={scene.sceneURL}\n            src={scene.sceneURL}\n            videoID={scene.videoID}\n            onVideoClick={handleVideoNameClick}\n          />\n        ))}\n      </div>\n      {selectedVideoInfo && <Modal videoInfo={selectedVideoInfo} onClose={handleCloseModal} />}\n    </div>\n  );\n}\n\nfunction AppWrapper() {\n  const [scenes, setScenes] = useState([]);\n  const [uniqueVideoIDs, setUniqueVideoIDs] = useState([]);\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/scenes`)\n      .then(response => {\n        setScenes(shuffleArray(response.data));\n      })\n      .catch(error => {\n        console.error('Error fetching scenes: ', error);\n      });\n\n    axios.get(`${BASE_URL}/videos`)\n      .then(response => {\n        setUniqueVideoIDs(response.data);\n      })\n      .catch(error => {\n        console.error('Error fetching videos: ', error);\n      });\n  }, []);\n\n  function shuffleArray(array) {\n    for (let i = array.length - 1; i > 0; i--) {\n      const j = Math.floor(Math.random() * (i + 1));\n      [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route path=\"/videos/:videoID\" element={<App scenes={scenes} uniqueVideoIDs={uniqueVideoIDs} />} />\n        <Route path=\"/\" element={<App scenes={scenes} uniqueVideoIDs={uniqueVideoIDs} />} />\n      </Routes>\n    </Router>\n  );\n}\n\nexport default AppWrapper;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}