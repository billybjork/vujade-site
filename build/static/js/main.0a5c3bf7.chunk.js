(this["webpackJsonpvujade-site"]=this["webpackJsonpvujade-site"]||[]).push([[0],{14:function(e,t,o){e.exports=o.p+"static/media/splashcube.9243f971.gif"},16:function(e,t,o){e.exports=o(31)},24:function(e,t,o){},25:function(e,t,o){},31:function(e,t,o){"use strict";o.r(t);var n=o(0),i=o.n(n),a=o(13),s=o.n(a),r=(o(24),o(32)),c=(o(25),o(14)),h=o.n(c);var l=function(){return i.a.createElement("div",{id:"splash-section",className:"splash-screen"},i.a.createElement("div",{className:"splash-screen"},i.a.createElement("div",{className:"splash-content"},i.a.createElement("img",{src:h.a,alt:"Splash GIF",className:"splash-image"}),i.a.createElement("div",{className:"splash-text"},i.a.createElement("p",null,"The Rubik\u2019s Cube has 43,000,000,000,000,000,000 possible combinations... and ",i.a.createElement("i",null,"one")," solution."),i.a.createElement("p",null,"It's easy to appreciate the puzzle in its solved form: a universe of possibility reduced to six harmonic faces. But ",i.a.createElement("i",null,"leaving")," it solved would squander all that potential."),i.a.createElement("p",null,i.a.createElement("b",null,"VU JA DE")," exists to scramble \u201csolved\u201d arrangements of cultural ephemera. To flip the switch from ",i.a.createElement("i",{style:{color:"blue"}},"solving")," to ",i.a.createElement("i",{style:{color:"blue"}},"playing.")," From ",i.a.createElement("i",{style:{color:"blue"}},"I've been here before")," to ",i.a.createElement("i",{style:{color:"blue"}},"I've never seen this before.")," From ",i.a.createElement("i",{style:{color:"blue"}},"d\xe9j\xe0 vu")," to ",i.a.createElement("i",{style:{color:"blue"}},"vuj\xe0 de.")),i.a.createElement("p",null,"Like the 43 quintillion permutations of the Rubik's Cube, these stories are starting points, not resolutions. They're not made for an algorithmic feed or a distracted scroll, which is why they come to your email. Explore on your own time, at your own pace, with nobody trying to sell you something in the process."),i.a.createElement("div",{className:"splash-embed",style:{display:"flex",justifyContent:"center"}},i.a.createElement("iframe",{src:"https://vujadeworld.substack.com/embed",width:"480",height:"150",style:{border:"0px solid #EEE",background:"white"},title:"VUJADE Substack"})),i.a.createElement("p",{style:{textAlign:"center"}},i.a.createElement("span",{role:"img","aria-label":"Rolling Eyes Emoji"},"\ud83d\ude44"),i.a.createElement("b",null," Keep scrolling to enter "),i.a.createElement("span",{role:"img","aria-label":"Pointing Down Emoji"},"\ud83d\udc47"))))))},u=o(3),m=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new u.u,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:u.g.ROTATE,MIDDLE:u.g.DOLLY,RIGHT:u.g.PAN},this.touches={ONE:u.s.ROTATE,TWO:u.s.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return h.phi},this.getAzimuthalAngle=function(){return h.theta},this.saveState=function(){o.target0.copy(o.target),o.position0.copy(o.object.position),o.zoom0=o.object.zoom},this.reset=function(){o.target.copy(o.target0),o.object.position.copy(o.position0),o.object.zoom=o.zoom0,o.object.updateProjectionMatrix(),o.dispatchEvent(n),o.update(),r=s.NONE},this.update=function(){var t=new u.u,i=(new u.l).setFromUnitVectors(e.up,new u.u(0,1,0)),a=i.clone().invert(),E=new u.u,f=new u.l,v=2*Math.PI;return function(){var e=o.object.position;t.copy(e).sub(o.target),t.applyQuaternion(i),h.setFromVector3(t),o.autoRotate&&r===s.NONE&&w(2*Math.PI/60/60*o.autoRotateSpeed),o.enableDamping?(h.theta+=l.theta*o.dampingFactor,h.phi+=l.phi*o.dampingFactor):(h.theta+=l.theta,h.phi+=l.phi);var u=o.minAzimuthAngle,b=o.maxAzimuthAngle;return isFinite(u)&&isFinite(b)&&(u<-Math.PI?u+=v:u>Math.PI&&(u-=v),b<-Math.PI?b+=v:b>Math.PI&&(b-=v),h.theta=u<=b?Math.max(u,Math.min(b,h.theta)):h.theta>(u+b)/2?Math.max(u,h.theta):Math.min(b,h.theta)),h.phi=Math.max(o.minPolarAngle,Math.min(o.maxPolarAngle,h.phi)),h.makeSafe(),h.radius*=m,h.radius=Math.max(o.minDistance,Math.min(o.maxDistance,h.radius)),!0===o.enableDamping?o.target.addScaledVector(d,o.dampingFactor):o.target.add(d),t.setFromSpherical(h),t.applyQuaternion(a),e.copy(o.target).add(t),o.object.lookAt(o.target),!0===o.enableDamping?(l.theta*=1-o.dampingFactor,l.phi*=1-o.dampingFactor,d.multiplyScalar(1-o.dampingFactor)):(l.set(0,0,0),d.set(0,0,0)),m=1,!!(p||E.distanceToSquared(o.object.position)>c||8*(1-f.dot(o.object.quaternion))>c)&&(o.dispatchEvent(n),E.copy(o.object.position),f.copy(o.object.quaternion),p=!1,!0)}}(),this.dispose=function(){o.domElement.removeEventListener("contextmenu",q,!1),o.domElement.removeEventListener("pointerdown",C,!1),o.domElement.removeEventListener("wheel",Z,!1),o.domElement.removeEventListener("touchstart",_,!1),o.domElement.removeEventListener("touchend",W,!1),o.domElement.removeEventListener("touchmove",H,!1),o.domElement.ownerDocument.removeEventListener("pointermove",X,!1),o.domElement.ownerDocument.removeEventListener("pointerup",F,!1),o.domElement.removeEventListener("keydown",U,!1)};var o=this,n={type:"change"},i={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},r=s.NONE,c=1e-6,h=new u.r,l=new u.r,m=1,d=new u.u,p=!1,E=new u.t,f=new u.t,v=new u.t,b=new u.t,y=new u.t,I=new u.t,g=new u.t,P=new u.t,O=new u.t;function T(){return Math.pow(.95,o.zoomSpeed)}function w(e){l.theta-=e}function V(e){l.phi-=e}var L=function(){var e=new u.u;return function(t,o){e.setFromMatrixColumn(o,0),e.multiplyScalar(-t),d.add(e)}}(),x=function(){var e=new u.u;return function(t,n){!0===o.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(o.object.up,e)),e.multiplyScalar(t),d.add(e)}}(),S=function(){var e=new u.u;return function(t,n){var i=o.domElement;if(o.object.isPerspectiveCamera){var a=o.object.position;e.copy(a).sub(o.target);var s=e.length();s*=Math.tan(o.object.fov/2*Math.PI/180),L(2*t*s/i.clientHeight,o.object.matrix),x(2*n*s/i.clientHeight,o.object.matrix)}else o.object.isOrthographicCamera?(L(t*(o.object.right-o.object.left)/o.object.zoom/i.clientWidth,o.object.matrix),x(n*(o.object.top-o.object.bottom)/o.object.zoom/i.clientHeight,o.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),o.enablePan=!1)}}();function k(e){o.object.isPerspectiveCamera?m/=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom*e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function M(e){o.object.isPerspectiveCamera?m*=e:o.object.isOrthographicCamera?(o.object.zoom=Math.max(o.minZoom,Math.min(o.maxZoom,o.object.zoom/e)),o.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),o.enableZoom=!1)}function j(e){E.set(e.clientX,e.clientY)}function N(e){b.set(e.clientX,e.clientY)}function B(e){if(1===e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,o)}}function Y(e){if(1===e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),o=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,o)}}function A(e){var t=e.touches[0].pageX-e.touches[1].pageX,o=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+o*o);g.set(0,n)}function R(e){if(1===e.touches.length)f.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);f.set(t,n)}v.subVectors(f,E).multiplyScalar(o.rotateSpeed);var i=o.domElement;w(2*Math.PI*v.x/i.clientHeight),V(2*Math.PI*v.y/i.clientHeight),E.copy(f)}function z(e){if(1===e.touches.length)y.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);y.set(t,n)}I.subVectors(y,b).multiplyScalar(o.panSpeed),S(I.x,I.y),b.copy(y)}function D(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+n*n);P.set(0,i),O.set(0,Math.pow(P.y/g.y,o.zoomSpeed)),k(O.y),g.copy(P)}function C(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),o.domElement.focus?o.domElement.focus():window.focus(),e.button){case 0:t=o.mouseButtons.LEFT;break;case 1:t=o.mouseButtons.MIDDLE;break;case 2:t=o.mouseButtons.RIGHT;break;default:t=-1}switch(t){case u.g.DOLLY:if(!1===o.enableZoom)return;!function(e){g.set(e.clientX,e.clientY)}(e),r=s.DOLLY;break;case u.g.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enablePan)return;N(e),r=s.PAN}else{if(!1===o.enableRotate)return;j(e),r=s.ROTATE}break;case u.g.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===o.enableRotate)return;j(e),r=s.ROTATE}else{if(!1===o.enablePan)return;N(e),r=s.PAN}break;default:r=s.NONE}r!==s.NONE&&(o.domElement.ownerDocument.addEventListener("pointermove",X,!1),o.domElement.ownerDocument.addEventListener("pointerup",F,!1),o.dispatchEvent(i))}(e);break;default:console.log("Unhandled key: ".concat(e))}}function X(e){if(!1!==o.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===o.enabled)return;switch(e.preventDefault(),r){case s.ROTATE:if(!1===o.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),v.subVectors(f,E).multiplyScalar(o.rotateSpeed);var t=o.domElement;w(2*Math.PI*v.x/t.clientHeight),V(2*Math.PI*v.y/t.clientHeight),E.copy(f),o.update()}(e);break;case s.DOLLY:if(!1===o.enableZoom)return;!function(e){P.set(e.clientX,e.clientY),O.subVectors(P,g),O.y>0?k(T()):O.y<0&&M(T()),g.copy(P),o.update()}(e);break;case s.PAN:if(!1===o.enablePan)return;!function(e){y.set(e.clientX,e.clientY),I.subVectors(y,b).multiplyScalar(o.panSpeed),S(I.x,I.y),b.copy(y),o.update()}(e);break;default:console.log("Unhandled key: ".concat(e.keyCode))}}(e);break;default:console.log("Unhandled key: ".concat(e))}}function F(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(o.domElement.ownerDocument.removeEventListener("pointermove",X,!1),o.domElement.ownerDocument.removeEventListener("pointerup",F,!1),!1===o.enabled)return;o.dispatchEvent(a),r=s.NONE}();break;default:console.log("Unhandled key: ".concat(e))}}function Z(e){!1===o.enabled||!1===o.enableZoom||r!==s.NONE&&r!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),o.dispatchEvent(i),function(e){e.deltaY<0?M(T()):e.deltaY>0&&k(T()),o.update()}(e),o.dispatchEvent(a))}function U(e){!1!==o.enabled&&!1!==o.enableKeys&&!1!==o.enablePan&&function(e){var t=!1;switch(e.keyCode){case o.keys.UP:S(0,o.keyPanSpeed),t=!0;break;case o.keys.BOTTOM:S(0,-o.keyPanSpeed),t=!0;break;case o.keys.LEFT:S(o.keyPanSpeed,0),t=!0;break;case o.keys.RIGHT:S(-o.keyPanSpeed,0),t=!0;break;default:console.log("Unhandled key: ".concat(e.keyCode))}t&&(e.preventDefault(),o.update())}(e)}function _(e){if(!1!==o.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(o.touches.ONE){case u.s.ROTATE:if(!1===o.enableRotate)return;B(e),r=s.TOUCH_ROTATE;break;case u.s.PAN:if(!1===o.enablePan)return;Y(e),r=s.TOUCH_PAN;break;default:r=s.NONE}break;case 2:switch(o.touches.TWO){case u.s.DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&A(e),o.enablePan&&Y(e)}(e),r=s.TOUCH_DOLLY_PAN;break;case u.s.DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&A(e),o.enableRotate&&B(e)}(e),r=s.TOUCH_DOLLY_ROTATE;break;default:r=s.NONE}break;default:r=s.NONE}r!==s.NONE&&o.dispatchEvent(i)}}function H(e){if(!1!==o.enabled)switch(e.preventDefault(),e.stopPropagation(),r){case s.TOUCH_ROTATE:if(!1===o.enableRotate)return;R(e),o.update();break;case s.TOUCH_PAN:if(!1===o.enablePan)return;z(e),o.update();break;case s.TOUCH_DOLLY_PAN:if(!1===o.enableZoom&&!1===o.enablePan)return;!function(e){o.enableZoom&&D(e),o.enablePan&&z(e)}(e),o.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===o.enableZoom&&!1===o.enableRotate)return;!function(e){o.enableZoom&&D(e),o.enableRotate&&R(e)}(e),o.update();break;default:r=s.NONE}}function W(e){!1!==o.enabled&&(o.dispatchEvent(a),r=s.NONE)}function q(e){!1!==o.enabled&&e.preventDefault()}o.domElement.addEventListener("contextmenu",q,!1),o.domElement.addEventListener("pointerdown",C,!1),o.domElement.addEventListener("wheel",Z,!1),o.domElement.addEventListener("touchstart",_,!1),o.domElement.addEventListener("touchend",W,!1),o.domElement.addEventListener("touchmove",H,!1),o.domElement.addEventListener("keydown",U,!1),this.update()};(m.prototype=Object.create(u.d.prototype)).constructor=m;var d=function(e,t){m.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=u.g.PAN,this.mouseButtons.RIGHT=u.g.ROTATE,this.touches.ONE=u.s.PAN,this.touches.TWO=u.s.DOLLY_ROTATE};(d.prototype=Object.create(u.d.prototype)).constructor=d;const p=Object.freeze({POSITIVE:{X:"x",Y:"y",Z:"z"},NEGATIVE:{X:"-x",Y:"-y",Z:"-z"}}),E=Object.freeze({[p.POSITIVE.X]:new u.u(1,0,0),[p.POSITIVE.Y]:new u.u(0,1,0),[p.POSITIVE.Z]:new u.u(0,0,1),[p.NEGATIVE.X]:new u.u(-1,0,0),[p.NEGATIVE.Y]:new u.u(0,-1,0),[p.NEGATIVE.Z]:new u.u(0,0,-1)}),f=Object.freeze({SOLUTION_START:"start",SOLUTION_END:"end"}),v=Object.freeze({NONE:"none",ROTATION:"rotation",CUBIE:"cubie"}),b=Object.freeze({u:"U",d:"D",f:"F",b:"B",r:"R",l:"L",m:"M",e:"E",s:"S",x:"X",y:"Y",z:"Z",U:"U'",D:"D'",F:"F'",B:"B'",R:"R'",L:"L'",M:"M'",E:"E'",S:"S'",X:"X'",Y:"Y'",Z:"Z'",wu:"u",wd:"d",wf:"f",wb:"b",wr:"r",wl:"l",wU:"u'",wD:"d'",wF:"f'",wB:"b'",wR:"r'",wL:"l'"});const y=[function(e){const t=new u.h;return t.set(1,0,0,0,Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e)),t},function(e){const t=new u.h;return t.set(Math.cos(e),0,Math.sin(e),0,1,0,-Math.sin(e),0,Math.cos(e)),t},function(e){const t=new u.h;return t.set(Math.cos(e),-Math.sin(e),0,Math.sin(e),Math.cos(e),0,0,0,1),t}],I=Object.freeze({[p.POSITIVE.X]:0,[p.POSITIVE.Y]:1,[p.POSITIVE.Z]:2});function g(e,t){return y[I[e]](t)}const P=new u.p,O=.925;P.moveTo(0,.1),P.lineTo(0,0+O-.1),P.quadraticCurveTo(0,0+O,.1,0+O),P.lineTo(0+O-.1,0+O),P.quadraticCurveTo(0+O,0+O,0+O,0+O-.1),P.lineTo(0+O,.1),P.quadraticCurveTo(0+O,0,0+O-.1,0),P.lineTo(.1,0),P.quadraticCurveTo(0,0,0,.1);const T=new u.q(P);T.center();var w=class{constructor(e,t,o,n,i){this.positionVector=new u.u(e,t,o),this.fixedPositionVector=new u.u(e,t,o),this.facingVector=n,this.fixedFacingVector=new u.u(n.x,n.y,n.z);const a=document.createElement("video");a.crossOrigin="anonymous",a.src=i,a.load(),a.muted=!0,a.loop=!0,a.play().catch(e=>console.error("Autoplay was prevented:",e));const s=new u.v(a);s.minFilter=u.f,s.magFilter=u.f,s.format=u.m,this.material=new u.j({map:s,side:u.c}),this.mesh=new u.i(T,this.material),this.updatePosition(this.fixedPositionVector,this.fixedFacingVector),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y)}updatePosition(e,t){this.mesh.position.x=e.x+.5*t.x,this.mesh.position.y=e.y+.5*t.y,this.mesh.position.z=e.z+.5*t.z,this.mesh.position.x+=this.mesh.position.x>0?.001:-.001,this.mesh.position.y+=this.mesh.position.y>0?.001:-.001,this.mesh.position.z+=this.mesh.position.z>0?.001:-.001;const o=Object.values(p.POSITIVE);o.forEach(n=>{if(e[n]===t[n]&&1===Math.abs(e[n]))for(const t of o.filter(e=>e!==n))1===e[t]?this.mesh.position[t]-=.025:-1===e[t]&&(this.mesh.position[t]+=.025)})}lockPosition(){const e=Math.round(this.fixedPositionVector.x),t=Math.round(this.fixedPositionVector.y),o=Math.round(this.fixedPositionVector.z);this.positionVector=new u.u(e,t,o),this.fixedPositionVector=new u.u(e,t,o),this.facingVector=new u.u(Math.round(this.fixedFacingVector.x),Math.round(this.fixedFacingVector.y),Math.round(this.fixedFacingVector.z)),this.fixedFacingVector=new u.u(this.facingVector.x,this.facingVector.y,this.facingVector.z),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y),this.mesh.rotation.z=0}turn(e,t){var o=g(e,t*Math.PI*.5);this.fixedFacingVector.applyMatrix3(o),this.fixedPositionVector.applyMatrix3(o),this.lockPosition(),this.updatePosition(this.fixedPositionVector,this.fixedFacingVector),this.mesh.rotation.y=.5*Math.PI*Math.abs(this.facingVector.x),this.mesh.rotation.x=.5*Math.PI*Math.abs(this.facingVector.y)}rotate(e,t){var o=g(e,t);this.facingVector.applyMatrix3(o),this.positionVector.applyMatrix3(o),this.updatePosition(this.positionVector,this.facingVector),this.mesh.rotateOnWorldAxis(E[e],t)}};const V=new u.p,L=1e-5;V.absarc(L,L,L,-Math.PI/2,-Math.PI,!0),V.absarc(L,.90002,L,Math.PI,Math.PI/2,!0),V.absarc(.90002,.90002,L,Math.PI/2,0,!0),V.absarc(.90002,L,L,0,-Math.PI/2,!0);const x=new u.e(V,{depth:.9,bevelEnabled:!0,bevelSegments:32,steps:1,bevelSize:.04999,bevelThickness:.05,curveSegments:16});x.center();const S=new u.j({color:0});var k=class{constructor(e,t,o,n){this.angle=0,this.animating=!1,this.animateAxis=null,this.animateDir=0,this.positionVector=new u.u(e,t,o),this.fixedPositionVector=new u.u(e,t,o),this.mesh=new u.i(x,S),this.stickers=[];let i=0;-1===e?this.stickers.push(new w(e,t,o,new u.u(-1,0,0),n[i++])):1===e&&this.stickers.push(new w(e,t,o,new u.u(1,0,0),n[i++])),-1===t?this.stickers.push(new w(e,t,o,new u.u(0,-1,0),n[i++])):1===t&&this.stickers.push(new w(e,t,o,new u.u(0,1,0),n[i++])),-1===o?this.stickers.push(new w(e,t,o,new u.u(0,0,-1),n[i++])):1===o&&this.stickers.push(new w(e,t,o,new u.u(0,0,1),n[i++])),this.updatePosition(this.fixedPositionVector)}updatePosition(e){this.mesh.position.x=e.x,this.mesh.position.y=e.y,this.mesh.position.z=e.z}lockPosition(){const e=Math.round(this.fixedPositionVector.x),t=Math.round(this.fixedPositionVector.y),o=Math.round(this.fixedPositionVector.z);this.positionVector=new u.u(e,t,o),this.fixedPositionVector=new u.u(e,t,o),this.mesh.position.x=e,this.mesh.position.y=t,this.mesh.position.z=o,this.stickers.forEach(e=>{e.lockPosition()})}turn(e,t){var o=g(e,t*Math.PI*.5);this.fixedPositionVector.applyMatrix3(o),this.lockPosition(),this.updatePosition(this.fixedPositionVector),this.mesh.rotation.x=0,this.mesh.rotation.y=0,this.mesh.rotation.z=0,this.stickers.forEach(o=>{o.turn(e,t)})}rotate(e,t){const o=g(e,t);this.positionVector.applyMatrix3(o),this.updatePosition(this.positionVector),this.mesh.rotation[e]+=t,this.stickers.forEach(o=>{o.rotate(e,t)})}};var M=class{constructor(e,t){this.cubies=[],this.meshes=[],this.stickersMap=new Map,this.videoURLs=t;let o=0;for(let n=-1;n<=1;n++)for(let e=-1;e<=1;e++)for(let t=-1;t<=1;t++)if(0!==n||0!==e||0!==t){const i=this.videoURLs.slice(o,o+3);this.cubies.push(new k(n,e,t,i)),o+=3}this.cubies.forEach(t=>{e.add(t.mesh),this.meshes.push(t.mesh),t.stickers.forEach(t=>{e.add(t.mesh),this.meshes.push(t.mesh),this.stickersMap.set(t.mesh.uuid,t)})})}forEach(e){this.cubies.forEach(t=>{e(t)})}repr(){const e=[[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]],[["B","B","B"],["B","B","B"],["B","B","B"]]];this.cubies.forEach(t=>{1===t.positionVector.y&&t.stickers.forEach(t=>{1===t.facingVector.y&&(e[0][t.fixedPositionVector.z+1][t.fixedPositionVector.x+1]=t.getColor())}),-1===t.positionVector.y&&t.stickers.forEach(t=>{-1===t.facingVector.y&&(e[1][-1*t.fixedPositionVector.z+1][t.fixedPositionVector.x+1]=t.getColor())}),1===t.positionVector.z&&t.stickers.forEach(t=>{1===t.facingVector.z&&(e[2][-1*t.fixedPositionVector.y+1][t.fixedPositionVector.x+1]=t.getColor())}),-1===t.positionVector.z&&t.stickers.forEach(t=>{-1===t.facingVector.z&&(e[3][-1*t.fixedPositionVector.y+1][-1*t.fixedPositionVector.x+1]=t.getColor())}),1===t.positionVector.x&&t.stickers.forEach(t=>{1===t.facingVector.x&&(e[4][-1*t.fixedPositionVector.y+1][-1*t.fixedPositionVector.z+1]=t.getColor())}),-1===t.positionVector.x&&t.stickers.forEach(t=>{-1===t.facingVector.x&&(e[5][-1*t.fixedPositionVector.y+1][t.fixedPositionVector.z+1]=t.getColor())})});let t="";return e.forEach(e=>{e.forEach(e=>{t+=e.join("")})}),t}move(e){switch(e){case"U":return void this.moveLayer(p.POSITIVE.Y,1,1);case"U'":return void this.moveLayer(p.POSITIVE.Y,1,-1);case"u":return this.moveLayer(p.POSITIVE.Y,1,1),void this.moveLayer(p.POSITIVE.Y,0,-1);case"u'":return this.moveLayer(p.POSITIVE.Y,1,-1),void this.moveLayer(p.POSITIVE.Y,0,1);case"D":return void this.moveLayer(p.POSITIVE.Y,-1,1);case"D'":return void this.moveLayer(p.POSITIVE.Y,-1,-1);case"d":return this.moveLayer(p.POSITIVE.Y,-1,1),void this.moveLayer(p.POSITIVE.Y,0,1);case"d'":return this.moveLayer(p.POSITIVE.Y,-1,-1),void this.moveLayer(p.POSITIVE.Y,0,-1);case"F":return void this.moveLayer(p.POSITIVE.Z,1,1);case"F'":return void this.moveLayer(p.POSITIVE.Z,1,-1);case"f":return this.moveLayer(p.POSITIVE.Z,1,1),void this.moveLayer(p.POSITIVE.Z,0,1);case"f'":return this.moveLayer(p.POSITIVE.Z,1,-1),void this.moveLayer(p.POSITIVE.Z,0,-1);case"B":return void this.moveLayer(p.POSITIVE.Z,-1,1);case"B'":return void this.moveLayer(p.POSITIVE.Z,-1,-1);case"b":return this.moveLayer(p.POSITIVE.Z,-1,1),void this.moveLayer(p.POSITIVE.Z,0,-1);case"b'":return this.moveLayer(p.POSITIVE.Z,-1,-1),void this.moveLayer(p.POSITIVE.Z,0,1);case"R":return void this.moveLayer(p.POSITIVE.X,1,1);case"R'":return void this.moveLayer(p.POSITIVE.X,1,-1);case"r":return this.moveLayer(p.POSITIVE.X,1,1),void this.moveLayer(p.POSITIVE.X,0,-1);case"r'":return this.moveLayer(p.POSITIVE.X,1,-1),void this.moveLayer(p.POSITIVE.X,0,1);case"L":return void this.moveLayer(p.POSITIVE.X,-1,1);case"L'":return void this.moveLayer(p.POSITIVE.X,-1,-1);case"l":return this.moveLayer(p.POSITIVE.X,-1,1),void this.moveLayer(p.POSITIVE.X,0,1);case"l'":return this.moveLayer(p.POSITIVE.X,-1,-1),void this.moveLayer(p.POSITIVE.X,0,-1);case"M":return void this.moveLayer(p.POSITIVE.X,0,1);case"M'":return void this.moveLayer(p.POSITIVE.X,0,-1);case"E":return void this.moveLayer(p.POSITIVE.Y,0,1);case"E'":return void this.moveLayer(p.POSITIVE.Y,0,-1);case"S":return void this.moveLayer(p.POSITIVE.Z,0,1);case"S'":return void this.moveLayer(p.POSITIVE.Z,0,-1);case"x":case"X":return this.moveLayer(p.POSITIVE.X,-1,-1),this.moveLayer(p.POSITIVE.X,0,-1),void this.moveLayer(p.POSITIVE.X,1,1);case"x'":case"X'":return this.moveLayer(p.POSITIVE.X,-1,1),this.moveLayer(p.POSITIVE.X,0,1),void this.moveLayer(p.POSITIVE.X,1,-1);case"y":case"Y":return this.moveLayer(p.POSITIVE.Y,-1,-1),this.moveLayer(p.POSITIVE.Y,0,-1),void this.moveLayer(p.POSITIVE.Y,1,1);case"y'":case"Y'":return this.moveLayer(p.POSITIVE.Y,-1,1),this.moveLayer(p.POSITIVE.Y,0,1),void this.moveLayer(p.POSITIVE.Y,1,-1);case"z":case"Z":return this.moveLayer(p.POSITIVE.Z,-1,-1),this.moveLayer(p.POSITIVE.Z,0,1),void this.moveLayer(p.POSITIVE.Z,1,1);case"z'":case"Z'":return this.moveLayer(p.POSITIVE.Z,-1,1),this.moveLayer(p.POSITIVE.Z,0,-1),void this.moveLayer(p.POSITIVE.Z,1,-1);default:console.warn("Unhandled move: ".concat(e))}}moveLayer(e,t,o){let n=o;0!==t?n*=-1*t:e===p.POSITIVE.Z&&(n*=-1),this.cubies.forEach(o=>{o.positionVector[e]===t&&(o.animating=!0,o.angle=0,o.animateAxis=e,o.animateDir=n)})}};function j(e){let t=!1;const o=new u.t,n=new u.t,i=new u.n,a=()=>.95*window.innerHeight;let s=[],r=!1,c=!1;const h=document.getElementById("three"),l=new u.o;l.background=new u.b(16777215);const d=new u.k(75,window.innerWidth/a(),.1,1e3);d.position.set(4,4,6);const E=new u.w({antialias:!0});E.setPixelRatio(window.devicePixelRatio),E.setSize(window.innerWidth,a()),h.appendChild(E.domElement);const y=new m(d,E.domElement);y.enablePan=!1,y.enableRotate=!1,y.enableZoom=!1,y.update();const I=new M(l,e);let g;const P=()=>{const e=window.innerWidth/2;I.cubies.forEach(t=>{if(1===t.fixedPositionVector.x&&-1===t.fixedPositionVector.y&&1===t.fixedPositionVector.z){const o=t.fixedPositionVector.clone();o.project(d),g=o.x*e+e}})};P(),y.addEventListener("change",P);const O=new u.a,T=()=>{const e=O.getDelta();if(!r&&s.length>0){const e=s.shift();e===f.SOLUTION_END?(c=!1,r=!1):e===f.SOLUTION_START?(console.log("Cube solving functionality has been disabled."),c=!1):(I.move(e),r=!0)}I.forEach(t=>{t.animating&&(t.angle>=.5*Math.PI?(t.angle=0,t.animating=!1,t.turn(t.animateAxis,t.animateDir),t.lockPosition(),r=!1):(t.rotate(t.animateAxis,t.animateDir*e*12.5),t.angle+=12.5*e))})},w=()=>{requestAnimationFrame(w),T(),E.render(l,d)};w();document.addEventListener("keypress",e=>{if(c)return;const o=t?"w"+e.key:e.key;void 0!==b[o]?s.push(b[o]):"Enter"===e.key?(c=!0,s.push(f.SOLUTION_START)):"w"!==e.key&&"W"!==e.key||(t=!0)},!1);document.addEventListener("keyup",e=>{"w"!==e.key&&"W"!==e.key||(t=!1)},!1);window.addEventListener("resize",()=>{d.aspect=window.innerWidth/a(),d.updateProjectionMatrix(),E.setSize(window.innerWidth,a()),P()},!1);document.addEventListener("touchstart",e=>{e.offsetX=e.touches[0].clientX,e.offsetY=e.touches[0].clientY-0,k(e)},!1);document.addEventListener("touchend",e=>{j(e)},!1);document.addEventListener("touchmove",e=>{e.offsetX=e.touches[0].clientX,e.offsetY=e.touches[0].clientY-0,N(e)},!1);let V=null,L=0,x=v.NONE,S=!1;const k=e=>{if("canvas"!==e.target.tagName.toLowerCase())return;S=!0,o.x=e.offsetX/window.innerWidth*2-1,o.y=-e.offsetY/a()*2+1,i.setFromCamera(o.clone(),d);const t=i.intersectObjects(I.meshes,!0);x=0!==t.length?I.stickersMap.has(t[0].object.uuid)?t[0]:v.CUBIE:v.ROTATION};document.addEventListener("pointerdown",k,!1);const j=e=>{S=!1,x=v.NONE,V=null,L=0};document.addEventListener("pointerup",j,!1);const N=e=>{if(!S||null!==V||c)return;if(x===v.CUBIE)return;if(n.x=e.offsetX/window.innerWidth*2-1-o.x,n.y=-e.offsetY/a()*2+1-o.y,n.length()<=(window.innerWidth<=500?.1:.05))return;if(Math.abs(n.x)>Math.abs(n.y)?(V=p.POSITIVE.X,L=n.x>0?1:-1):(V=p.POSITIVE.Y,L=n.y>0?1:-1),x===v.ROTATION)return void(V===p.POSITIVE.X?-1===L?s.push("y"):1===L&&s.push("y'"):V===p.POSITIVE.Y&&(e.offsetX<g?-1===L?s.push("x'"):1===L&&s.push("x"):-1===L?s.push("z"):1===L&&s.push("z'")));const t=I.stickersMap.get(x.object.uuid);if(V===p.POSITIVE.X)if(1===t.fixedFacingVector.y)switch(t.fixedPositionVector.z){case-1:-1*L===-1?s.push("B'"):-1*L===1&&s.push("B");break;case 0:-1===L?s.push("S'"):1===L&&s.push("S");break;case 1:-1===L?s.push("F'"):1===L&&s.push("F")}else switch(t.fixedPositionVector.y){case-1:-1===L?s.push("D'"):1===L&&s.push("D");break;case 0:-1===L?s.push("E'"):1===L&&s.push("E");break;case 1:-1*L===-1?s.push("U'"):-1*L===1&&s.push("U")}else if(V===p.POSITIVE.Y)if(1===t.fixedFacingVector.x)switch(t.fixedPositionVector.z){case-1:-1===L?s.push("B'"):1===L&&s.push("B");break;case 0:-1*L===-1?s.push("S'"):-1*L===1&&s.push("S");break;case 1:-1*L===-1?s.push("F'"):-1*L===1&&s.push("F")}else switch(t.fixedPositionVector.x){case-1:-1*L===-1?s.push("L'"):-1*L===1&&s.push("L");break;case 0:-1*L===-1?s.push("M'"):-1*L===1&&s.push("M");break;case 1:-1===L?s.push("R'"):1===L&&s.push("R")}S=!1};document.addEventListener("pointermove",N,!1)}var N=o(11),B=o(4);const Y=Object(n.createContext)(),A=e=>{let{children:t}=e;const[o,a]=Object(n.useState)(!1),[s,r]=Object(n.useState)(null),c=Object(n.useCallback)(e=>{console.log("Opening modal for videoID: ".concat(e)),a(!0),r(e)},[]),h=Object(n.useCallback)(()=>{console.log("Closing modal"),a(!1),r(null)},[]),l=Object(n.useMemo)(()=>({isModalOpen:o,currentVideoID:s,openModal:c,closeModal:h}),[o,s,c,h]);return i.a.createElement(Y.Provider,{value:l},t)};var R=function(){const e=Object(B.o)(),t=Object(B.m)(),{isModalOpen:o,currentVideoID:a,closeModal:s}=Object(n.useContext)(Y),[c,h]=Object(n.useState)(null),[l,u]=Object(n.useState)(!1),m=Object(n.useRef)(null),d=Object(n.useCallback)(e=>{const t=e.split("vimeo.com/")[1].split("/")[0];return"https://player.vimeo.com/video/".concat(t)},[]);Object(n.useEffect)(()=>{const e=t.pathname.split("/")[1];!e||e===a&&c||(u(!0),r.a.get("".concat("https://vujade-site-bd6c94750c62.herokuapp.com","/api/video_info/").concat(e)).then(e=>{h(e.data),u(!1)}).catch(e=>{console.error("Error fetching video info: ",e),u(!1)}))},[t.pathname,a,c]);const p=Object(n.useCallback)(()=>{s(),e("/")},[s,e]),E=Object(n.useMemo)(()=>c?d(c.URL):null,[c,d]);return l||!c?i.a.createElement("div",null,"Loading..."):i.a.createElement("div",{className:"modal-backdrop ".concat(o?"open":""),onClick:p,ref:m},i.a.createElement("div",{className:"modal",onClick:e=>e.stopPropagation()},i.a.createElement("div",{className:"modal-content"},i.a.createElement("span",{className:"close",onClick:p},"\xd7"),i.a.createElement(i.a.Fragment,null,i.a.createElement("h2",null,c?c.videoName:"Loading..."),i.a.createElement("div",{className:"embed-container"},c&&i.a.createElement("iframe",{src:E,allow:"autoplay; fullscreen",allowFullScreen:!0,title:c?c.videoName:""})),c&&i.a.createElement("div",{dangerouslySetInnerHTML:{__html:c.Description}})))))},z=o(12),D=o.n(z);const C="https://vujade-site-bd6c94750c62.herokuapp.com";function X(){const[e,t]=Object(n.useState)([]),o=Object(n.useRef)(!1);return Object(n.useEffect)(()=>(console.log("CubeWithVideos component mounted."),()=>{console.log("CubeWithVideos component unmounted.")}),[]),Object(n.useEffect)(()=>{(async()=>{try{const e=await r.a.get("".concat(C,"/api/scenes")),o=D.a.shuffle(e.data.map(e=>e.sceneURL));t(o)}catch(e){console.error("Error fetching cube videos:",e)}})()},[]),Object(n.useEffect)(()=>{e.length>0&&!o.current&&(console.log("Initializing CubeMaster with new video textures"),j(e),o.current=!0)},[e]),i.a.createElement("div",{id:"cube-container"})}function F(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(X,null),i.a.createElement(l,null))}var Z=function(){const[e,t]=Object(n.useState)([]),[o,a]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{const e=await r.a.get("".concat(C,"/api/scenes"));t(e.data);const o=await r.a.get("".concat(C,"/api/videos"));a(D.a.uniqBy(o.data,"videoID"))})()},[]);const s=Object(n.useMemo)(()=>e,[e]),c=Object(n.useMemo)(()=>o,[o]);return i.a.createElement(N.a,null,i.a.createElement(n.Suspense,{fallback:i.a.createElement("div",null,"Loading...")},i.a.createElement(A,null,i.a.createElement(B.c,null,i.a.createElement(B.a,{path:"/",element:i.a.createElement(F,{scenes:s,uniqueVideoIDs:c})}),i.a.createElement(B.a,{path:"/:videoID",element:i.a.createElement(i.a.Fragment,null,i.a.createElement(F,{scenes:s,uniqueVideoIDs:c}),i.a.createElement(R,null))})))))};var U=e=>{e&&e instanceof Function&&o.e(3).then(o.bind(null,33)).then(t=>{let{getCLS:o,getFID:n,getFCP:i,getLCP:a,getTTFB:s}=t;o(e),n(e),i(e),a(e),s(e)})};s.a.createRoot(document.getElementById("root")).render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(A,null,i.a.createElement(Z,null)))),U()}},[[16,1,2]]]);
//# sourceMappingURL=main.0a5c3bf7.chunk.js.map