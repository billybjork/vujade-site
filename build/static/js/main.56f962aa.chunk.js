(this["webpackJsonpvujade-site"]=this["webpackJsonpvujade-site"]||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/splashcube.9243f971.gif"},17:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},26:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(13),l=a.n(c),s=(a(25),a(35)),r=(a(26),a(14)),i=a.n(r);var u=function(){return o.a.createElement("div",{id:"splash-section",className:"splash-screen"},o.a.createElement("div",{className:"splash-screen"},o.a.createElement("div",{className:"splash-content"},o.a.createElement("img",{src:i.a,alt:"Splash GIF",className:"splash-image"}),o.a.createElement("div",{className:"splash-text"},o.a.createElement("p",null,"The Rubik\u2019s Cube has 43,000,000,000,000,000,000 possible combinations... and ",o.a.createElement("i",null,"one")," solution."),o.a.createElement("p",null,"It's easy to appreciate the puzzle in its solved form: a universe of possibility reduced to six harmonic faces. But ",o.a.createElement("i",null,"leaving")," it solved would squander all that potential."),o.a.createElement("p",null,o.a.createElement("b",null,"VU JA DE")," exists to scramble \u201csolved\u201d arrangements of cultural ephemera. To flip the switch from ",o.a.createElement("i",{style:{color:"blue"}},"solving")," to ",o.a.createElement("i",{style:{color:"blue"}},"playing.")," From ",o.a.createElement("i",{style:{color:"blue"}},"I've been here before")," to ",o.a.createElement("i",{style:{color:"blue"}},"I've never seen this before.")," From ",o.a.createElement("i",{style:{color:"blue"}},"d\xe9j\xe0 vu")," to ",o.a.createElement("i",{style:{color:"blue"}},"vuj\xe0 de.")),o.a.createElement("p",null,"Like the 43 quintillion permutations of the Rubik's Cube, these stories are starting points, not resolutions. They're not made for an algorithmic feed or a distracted scroll, which is why they come to your email. Explore on your own time, at your own pace, with nobody trying to sell you something in the process."),o.a.createElement("div",{className:"splash-embed",style:{display:"flex",justifyContent:"center"}},o.a.createElement("iframe",{src:"https://vujadeworld.substack.com/embed",width:"480",height:"150",style:{border:"0px solid #EEE",background:"white"},title:"VUJADE Substack"})),o.a.createElement("p",{style:{textAlign:"center"}},o.a.createElement("span",{role:"img","aria-label":"Rolling Eyes Emoji"},"\ud83d\ude44"),o.a.createElement("b",null," Keep scrolling to enter "),o.a.createElement("span",{role:"img","aria-label":"Pointing Down Emoji"},"\ud83d\udc47"))))))},m=a(3),d=a(11);const p=Object(n.createContext)(),b=()=>Object(n.useContext)(p),E=e=>{let{children:t}=e;const[a,c]=Object(n.useState)(!1),[l,s]=Object(n.useState)(null),r=Object(n.useCallback)(e=>{console.log("Opening modal for videoID: ".concat(e)),c(!0),s(e)},[]),i=Object(n.useCallback)(()=>{console.log("Closing modal"),c(!1),s(null)},[]),u=Object(n.useMemo)(()=>({isModalOpen:a,currentVideoID:l,openModal:r,closeModal:i}),[a,l,r,i]);return o.a.createElement(p.Provider,{value:u},t)};var h=function(){const e=Object(m.m)(),{isModalOpen:t,currentVideoID:a,closeModal:c}=b(),[l,r]=Object(n.useState)(null),i=Object(n.useRef)(null);console.log("Rendering Modal component",{isModalOpen:t,currentVideoID:a});const u=Object(n.useCallback)(()=>{c(),window.history.pushState({},"","/")},[c]);Object(n.useEffect)(()=>{let e=!0;return!a||!t||l&&l.videoID===a?t||r(null):s.a.get("".concat("https://vujade-site-bd6c94750c62.herokuapp.com","/api/video_info/").concat(a)).then(t=>{e&&r(t.data)}).catch(e=>{console.error("Error fetching video info: ",e)}),()=>{e=!1}},[a,t,l]),Object(n.useEffect)(()=>{const e=e=>{i.current&&!i.current.contains(e.target)&&u()};return t?(document.addEventListener("mousedown",e),document.body.classList.add("body-lock")):(document.removeEventListener("mousedown",e),document.body.classList.remove("body-lock")),()=>{document.removeEventListener("mousedown",e),document.body.classList.remove("body-lock")}},[t,u]),Object(n.useEffect)(()=>{"/"===e.pathname&&t&&c()},[e,t,c]);const d=Object(n.useMemo)(()=>l?(e=>{const t=e.split("vimeo.com/")[1].split("/")[0];return"https://player.vimeo.com/video/".concat(t)})(l.URL):null,[l]);return t&&l?o.a.createElement("div",{className:"modal ".concat(t?"open":""),ref:i},o.a.createElement("div",{className:"modal-content",onClick:e=>e.stopPropagation()},o.a.createElement("span",{className:"close",onClick:u},"\xd7"),o.a.createElement("h2",null,l.videoName),o.a.createElement("div",{className:"embed-container"},o.a.createElement("iframe",{src:d,allow:"autoplay; fullscreen",allowFullScreen:!0,title:l.videoName})),o.a.createElement("div",{dangerouslySetInnerHTML:{__html:l.Description}}))):null},v=a(12),f=a.n(v),g=a(15),y=a(9);const j="https://vujade-site-bd6c94750c62.herokuapp.com",O=o.a.memo(e=>{let{src:t,videoID:a,onVideoClick:c}=e;const l=Object(n.useRef)(null),{ref:s,inView:r}=Object(g.a)({triggerOnce:!0,rootMargin:"50px 0px"}),i=Object(n.useCallback)(()=>{!y.isMobile&&l.current&&l.current.play().catch(e=>console.error("Play was interrupted.",e))},[]),u=Object(n.useCallback)(()=>{!y.isMobile&&l.current&&l.current.pause()},[]);return Object(n.useEffect)(()=>{y.isMobile&&r&&l.current&&l.current.play().catch(e=>console.log("Autoplay was prevented.",e))},[r]),o.a.createElement("div",{ref:s,style:{width:"100%",height:"auto"}},r&&o.a.createElement("video",{ref:l,src:t,loop:!0,muted:!0,playsInline:!0,onClick:()=>c(a),onMouseEnter:i,onMouseLeave:u,style:{width:"100%",height:"auto"}}))},(e,t)=>e.videoID===t.videoID&&e.src===t.src);const w=o.a.memo((function(e){let{scenes:t,uniqueVideoIDs:a}=e;const{videoID:c}=Object(m.q)(),{openModal:l,currentVideoID:s}=b(),[r,i]=Object(n.useState)([]);Object(n.useEffect)(()=>{i(function(e){for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}([...t]))},[t]),Object(n.useEffect)(()=>{c&&t.some(e=>e.videoID===c)&&s!==c&&l(c)},[c,t,l,s]);const u=Object(n.useCallback)(e=>{window.history.pushState({modalOpen:!0},"","/".concat(e)),l(e)},[l]);return o.a.createElement("div",{id:"videos-section",className:"App"},o.a.createElement("div",{className:"video-menu"},a.map((e,t)=>o.a.createElement("div",{key:"".concat(e.videoID,"-").concat(t),onClick:()=>u(e.videoID),className:"video-menu-item"},e.videoName))),o.a.createElement("div",{className:"video-grid"},r.map(e=>o.a.createElement(O,{key:e.sceneURL,src:e.sceneURL,videoID:e.videoID,onVideoClick:u}))))}));function I(e){let{scenes:t,uniqueVideoIDs:a}=e;const c=Object(m.o)(),l=Object(m.m)(),[s,r]=Object(n.useState)("/welcome"===l.pathname);return Object(n.useEffect)(()=>{const e=f.a.debounce(()=>{window.scrollY>1*window.innerHeight&&"/"!==l.pathname&&c("/")},100);return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[c,l.pathname]),Object(n.useEffect)(()=>{r("/welcome"===l.pathname)},[l.pathname]),o.a.createElement(o.a.Fragment,null,s?o.a.createElement(u,null):null,o.a.createElement(w,{scenes:t,uniqueVideoIDs:a}))}var k=function(){const[e,t]=Object(n.useState)([]),[a,c]=Object(n.useState)([]);Object(n.useEffect)(()=>{(async()=>{try{const e=await s.a.get("".concat(j,"/api/scenes"));t(e.data);const a=await s.a.get("".concat(j,"/api/videos"));c(f.a.uniqBy(a.data,"videoID")),console.log("Fetched scenes:",e.data),console.log("Fetched videos:",a.data)}catch(e){console.error("Error fetching content: ",e)}})()},[]);const l=Object(n.useMemo)(()=>e,[e]),r=Object(n.useMemo)(()=>a,[a]);return o.a.createElement(d.a,null,o.a.createElement(n.Suspense,{fallback:o.a.createElement("div",null,"Loading...")},o.a.createElement(E,null,o.a.createElement(m.c,null,o.a.createElement(m.a,{path:"/welcome",element:o.a.createElement(I,{scenes:l,uniqueVideoIDs:r})}),o.a.createElement(m.a,{path:"/",element:o.a.createElement(I,{scenes:l,uniqueVideoIDs:r})}),o.a.createElement(m.a,{path:"/:videoID",element:o.a.createElement(h,null)})))))};var D=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,36)).then(t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:c,getTTFB:l}=t;a(e),n(e),o(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(E,null,o.a.createElement(k,null)))),D()}},[[17,1,2]]]);
//# sourceMappingURL=main.56f962aa.chunk.js.map